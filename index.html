<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Your Paper Title</title>
  <link rel="stylesheet" href="/JointConn-v2/assets/css/style.css?v=3">
</head>

<body>
  <!-- Sticky top nav -->
  <nav class="nav">
    <div class="nav-inner">
      <a class="nav-brand" href="#">Project Page</a>
      <div class="nav-links">
        <a href="#abstract">Abstract</a>
        <a href="#method">Method</a>
        <a href="#results">Results</a>
        <a href="#ablations">Ablations</a>
        <a href="#video">Video</a>
        <a href="#bibtex">BibTeX</a>
      </div>
    </div>
  </nav>

  <!-- Hero -->
  <header class="hero">
    <div class="container hero-inner">
      <h1>JointConn-v2: Learning a Joint Vector Field with Diffusion Transformers for Cross-Scale Connectivity and Dual-Timestep Modeling</h1>
      <p class="sub">Submitted to XXX 2026 (Double-blind)</p>
      <p class="authors">Anonymous Authors</p>

      <div class="btns">
        <a class="btn" href="paper/paper.pdf" target="_blank" rel="noopener">Paper</a>
        <a class="btn" href="paper/supp.pdf" target="_blank" rel="noopener">Code</a>
        <a class="btn" href="#results">More Results</a>
        <a class="btn ghost" href="#bibtex">BibTeX</a>
      </div>

      <!-- <div class="teaser">
        <img src="assets/teaser.png" alt="teaser" />
        <div class="cap">Teaser: One-sentence summary of what the figure shows.</div>
      </div> -->

      <div class="teaser">
  <div class="carousel" id="teaserCarousel" tabindex="0" aria-label="Teaser carousel">
    <button class="carousel-btn prev" type="button" aria-label="Previous image">‹</button>

    <img id="teaserImg"
         src="/JointConn-v2/assets/teaser/1.png"
         alt="Teaser"
         loading="eager" />

    <button class="carousel-btn next" type="button" aria-label="Next image">›</button>

    <div class="carousel-dots" id="teaserDots"></div>
  </div>

  <div class="cap">Teaser: One-sentence summary of what the figure shows.</div>
</div>

    </div>
  </header>

  <main class="container">
    <!-- Abstract -->
    <section id="abstract" class="section">
      <h2>Abstract</h2>
      <p>
        This work revisits diffusion Transformers for text-depth–conditioned and joint image synthesis, focusing on two bottlenecks: (1) cross-modal attention degrades around edges and structural regions, causing geometric distortions; (2) the depth branch is easily dragged by the semantic branch, leading to over-coupling and instability. To address these issues, we propose JointConn-v2 with GCM-WFM (Gated Cross-Modal Weighted Flow Matching), a unified framework for joint and depth-conditioned image synthesis. JointConn-v2 strengthens bidirectional guidance via Swap-Q cross-attention, explicitly injects 2D relative positions and edge energy into the attention logits through a Geometric Mask Bias, performs token-level spatial selection of “to fuse / not to fuse” via Regional Routing, and stabilizes cross-branch injection at both the sample and structural levels using a Content Gate with residual fusion. 
        On the training side, we introduce GCM-WFM, which regresses a joint vector field in the packed sequence space and incorporates temporal, geometric, gating, and routing terms into the objective with diagonal weights. Our approach achieves a better balance between edge controllability and  cross-modal consistency.
      </p>
      <div class="callouts">
        <div class="card">
          <h3>Key Idea</h3>
          <p>One-line description of the main idea.</p>
        </div>
        <div class="card">
          <h3>What’s New</h3>
          <p>Two or three bullets of contributions.</p>
        </div>
        <div class="card">
          <h3>Why It Works</h3>
          <p>Short intuition / mechanism.</p>
        </div>
      </div>
    </section>

    <!-- Method -->
    <section id="method" class="section">
      <h2>Method</h2>
      <img class="figure" src="assets/MAIN1.png" alt="method overview" />
      <p class="cap">Figure: Overall pipeline.</p>

      <div class="twocol">
        <div class="card">
          <h3>Architecture</h3>
          <ul>
            <li>Backbone: XXX</li>
            <li>Conditioning: text / depth / edges / seg</li>
          </ul>
        </div>
        <div class="card">
          <h3>Implementation</h3>
          <ul>
            <li>Resolution: 512</li>
            <li>Steps: 30 / sampler: XXX</li>
            <li>Hardware: A100 / etc.</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- Main results -->
    <section id="results" class="section">
      <h2>Main Results</h2>
      <p class="muted">Show the most convincing comparisons first (1–2 screens).</p>

      <div class="grid">
        <figure>
          <img src="assets/results/main_cmp1.png" alt="main cmp1" />
          <figcaption>Dataset A: Ours vs Baseline.</figcaption>
        </figure>
        <figure>
          <img src="assets/results/main_cmp2.png" alt="main cmp2" />
          <figcaption>Dataset B: Ours preserves geometry better.</figcaption>
        </figure>
        <figure>
          <img src="assets/results/main_cmp3.png" alt="main cmp3" />
          <figcaption>Hard case: fine structures.</figcaption>
        </figure>
      </div>
    </section>

    <!-- More comparisons (collapsible) -->
    <section class="section">
      <h2>More Comparisons</h2>

      <details open>
        <summary>Dataset / Setting 1</summary>
        <div class="grid">
          <figure><img src="assets/results/cmp_s1_1.png" alt=""><figcaption>Case 1</figcaption></figure>
          <figure><img src="assets/results/cmp_s1_2.png" alt=""><figcaption>Case 2</figcaption></figure>
          <figure><img src="assets/results/cmp_s1_3.png" alt=""><figcaption>Case 3</figcaption></figure>
        </div>
      </details>

      <details>
        <summary>Dataset / Setting 2</summary>
        <div class="grid">
          <figure><img src="assets/results/cmp_s2_1.png" alt=""><figcaption>Case 1</figcaption></figure>
          <figure><img src="assets/results/cmp_s2_2.png" alt=""><figcaption>Case 2</figcaption></figure>
          <figure><img src="assets/results/cmp_s2_3.png" alt=""><figcaption>Case 3</figcaption></figure>
        </div>
      </details>
    </section>

    <!-- Ablations -->
    <section id="ablations" class="section">
      <h2>Ablations</h2>

      <div class="twocol">
        <div class="card">
          <h3>Quantitative</h3>
          <p class="muted">Paste a table here (HTML) or embed a screenshot.</p>
          <img class="figure" src="assets/ablations/table.png" alt="ablation table" />
          <p class="cap">Table: Ablation on components.</p>
        </div>
        <div class="card">
          <h3>Qualitative</h3>
          <img class="figure" src="assets/ablations/qual.png" alt="ablation qual" />
          <p class="cap">More cases consistent with Table X.</p>
        </div>
      </div>
    </section>

   
    <!-- Video -->
    <section id="video" class="section">
      <h2>Video</h2>
      <div class="card">
        <video class="video" controls playsinline>
          <source src="assets/videos/demo.mp4" type="video/mp4" />
        </video>
        <p class="cap">Demo video.</p>
      </div>
    </section>

    <!-- BibTeX -->
    <section id="bibtex" class="section">
      <h2>BibTeX</h2>
      <div class="card">
        <pre class="code"><code>@inproceedings{anonymous2026paper,
  title   = {Your Paper Title},
  author  = {Anonymous Authors},
  booktitle = {XXX},
  year    = {2026}
}</code></pre>
        <button class="btn small" onclick="copyBib()">Copy</button>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="container">
      <p>© Anonymous Authors</p>
    </div>
  </footer>

<script>
  (function () {
    // === 1) 图片列表：自动按 1..N 编号 ===
    const N = 4; // 你现在是 4 张，以后改这里即可
    const images = Array.from({ length: N }, (_, i) =>
      `/JointConn-v2/assets/teaser/${i + 1}.png`
    );

    const carousel = document.getElementById("teaserCarousel");
    const imgEl = document.getElementById("teaserImg");
    const dotsEl = document.getElementById("teaserDots");
    const prevBtn = carousel.querySelector(".prev");
    const nextBtn = carousel.querySelector(".next");

    let idx = 0;

    // === 2) 自动轮播参数 ===
    const AUTOPLAY_MS = 2000;     // 每张停留时间
    const RESUME_AFTER_MS = 6000; // 手动操作后，延迟多久恢复自动轮播

    let timer = null;
    let resumeTimer = null;

    function renderDots() {
      dotsEl.innerHTML = "";
      images.forEach((_, i) => {
        const d = document.createElement("button");
        d.type = "button";
        d.className = "carousel-dot" + (i === idx ? " active" : "");
        d.ariaLabel = "Go to image " + (i + 1);
        d.addEventListener("click", () => {
          stopAutoplayTemporarily();
          setIndex(i);
        });
        dotsEl.appendChild(d);
      });
    }

    function setIndex(i) {
      idx = (i + images.length) % images.length;
      imgEl.src = images[idx];
      Array.from(dotsEl.children).forEach((node, k) => {
        node.classList.toggle("active", k === idx);
      });
    }

    function next() { setIndex(idx + 1); }
    function prev() { setIndex(idx - 1); }

    // === 3) 自动轮播控制 ===
    function startAutoplay() {
      stopAutoplay(); // 防止重复开多个 timer
      timer = setInterval(() => {
        // 页面不可见就不轮播
        if (document.hidden) return;
        next();
      }, AUTOPLAY_MS);
    }

    function stopAutoplay() {
      if (timer) clearInterval(timer);
      timer = null;
    }

    function stopAutoplayTemporarily() {
      stopAutoplay();
      if (resumeTimer) clearTimeout(resumeTimer);
      resumeTimer = setTimeout(() => {
        startAutoplay();
      }, RESUME_AFTER_MS);
    }

    // === 4) 绑定交互（手动仍可用） ===
    nextBtn.addEventListener("click", () => { stopAutoplayTemporarily(); next(); });
    prevBtn.addEventListener("click", () => { stopAutoplayTemporarily(); prev(); });

    // 点击图片区域左右切换：左半=上一张，右半=下一张
    carousel.addEventListener("click", (e) => {
      if (e.target.closest(".carousel-btn") || e.target.closest(".carousel-dot")) return;
      stopAutoplayTemporarily();
      const rect = carousel.getBoundingClientRect();
      const x = e.clientX - rect.left;
      if (x < rect.width / 2) prev(); else next();
    });

    // 键盘左右键切换（轮播容器可聚焦）
    carousel.addEventListener("keydown", (e) => {
      if (e.key === "ArrowLeft") { stopAutoplayTemporarily(); prev(); }
      if (e.key === "ArrowRight") { stopAutoplayTemporarily(); next(); }
    });

    // 悬停暂停，移开恢复
    carousel.addEventListener("mouseenter", () => stopAutoplay());
    carousel.addEventListener("mouseleave", () => startAutoplay());

    // 标签页切换：不可见暂停，可见恢复
    document.addEventListener("visibilitychange", () => {
      if (document.hidden) stopAutoplay();
      else startAutoplay();
    });

    // 预加载
    images.forEach((u) => { const im = new Image(); im.src = u; });

    renderDots();
    setIndex(0);
    startAutoplay();
  })();
</script>

  
  <!-- <script>
    function copyBib() {
      const text = document.querySelector("#bibtex code").innerText;
      navigator.clipboard.writeText(text);
    }

  (function () {
    // 你可以改成更多张
    const images = [
      "/JointConn-v2/assets/teaser/1.png",
      "/JointConn-v2/assets/teaser/2.png",
      "/JointConn-v2/assets/teaser/3.png",
      "/JointConn-v2/assets/teaser/4.png"
    ];

    const carousel = document.getElementById("teaserCarousel");
    const imgEl = document.getElementById("teaserImg");
    const dotsEl = document.getElementById("teaserDots");
    const prevBtn = carousel.querySelector(".prev");
    const nextBtn = carousel.querySelector(".next");

    let idx = 0;

    function renderDots() {
      dotsEl.innerHTML = "";
      images.forEach((_, i) => {
        const d = document.createElement("button");
        d.type = "button";
        d.className = "carousel-dot" + (i === idx ? " active" : "");
        d.ariaLabel = "Go to image " + (i + 1);
        d.addEventListener("click", () => setIndex(i));
        dotsEl.appendChild(d);
      });
    }

    function setIndex(i) {
      idx = (i + images.length) % images.length;
      imgEl.src = images[idx];
      // 更新 dots
      Array.from(dotsEl.children).forEach((node, k) => {
        node.classList.toggle("active", k === idx);
      });
    }

    function next() { setIndex(idx + 1); }
    function prev() { setIndex(idx - 1); }

    nextBtn.addEventListener("click", next);
    prevBtn.addEventListener("click", prev);

    // 点击图片区域左右切换：鼠标点击左半边=上一张，右半边=下一张
    carousel.addEventListener("click", (e) => {
      // 避免点到按钮重复触发
      if (e.target.closest(".carousel-btn") || e.target.closest(".carousel-dot")) return;
      const rect = carousel.getBoundingClientRect();
      const x = e.clientX - rect.left;
      if (x < rect.width / 2) prev(); else next();
    });

    // 键盘左右键切换
    carousel.addEventListener("keydown", (e) => {
      if (e.key === "ArrowLeft") prev();
      if (e.key === "ArrowRight") next();
    });

    // 预加载
    images.forEach((u) => { const im = new Image(); im.src = u; });

    renderDots();
    setIndex(0);
  })();
</script> -->

</body>
</html>
